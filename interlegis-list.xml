<?xml version="1.0" encoding="UTF-8"?>

<list>
  <definition>
    <departmentBrowser>true</departmentBrowser>
    <departmentRootVisible>true</departmentRootVisible>
    <baseMode>true</baseMode>
    <multiSelect>true</multiSelect>
    <template>simple-list.tpl</template>
    <module>interlegis</module>
    <label>List of Interlegis Products</label>
    <defaultSortColumn>1</defaultSortColumn>

    <objectType>
      <label>Portal Modelo</label>
      <objectClass>portalModelo</objectClass>
      <category>interlegis</category>
      <class>portalModelo</class>
      <image>plugins/interlegis/images/iconMiniPortalModelo.png</image>
    </objectType>

    <objectType>
      <label>SAPL</label>
      <objectClass>interlegisProducts</objectClass>
      <category>interlegis</category>
      <class>interlegisProducts</class>
      <image>plugins/interlegis/images/iconMiniSAPL.png</image>
    </objectType>

  </definition>

  <table>
    <layout>|20px;c|||||110px;c|100px;r|</layout>

    <department>
      <value>%{filter:objectType(dn,objectClass)}</value>
    </department>

    <department>
      <value>%{filter:departmentLink(row,dn,description)}</value>
      <span>3</span>
    </department>

    <column>
      <value>%{filter:objectType(dn,objectClass)}</value>
    </column>

    <column>
      <label>Name</label>
      <sortAttribute>cn</sortAttribute>
      <sortType>string</sortType>
      <value>%{filter:link(row,dn,"%s",cn)}</value>
      <export>true</export>
    </column>

    <column>
      <label>City</label>
      <sortAttribute>city</sortAttribute>
      <sortType>string</sortType>
      <value>%{filter:link(row,dn,"%s",city)}</value>
      <export>true</export>
    </column>

    <column>
      <label>Interlegis code</label>
      <sortAttribute>interlegisCode</sortAttribute>
      <sortType>string</sortType>
      <value>%{filter:link(row,dn,"%s",interlegisCode)}</value>
      <export>true</export>
    </column>

    <column>
      <label>Zope Instance</label>
      <sortAttribute>zopeInstance</sortAttribute>
      <sortType>integer</sortType>
      <value>%{filter:link(row,dn,"%d",zopeInstance)}</value>
      <export>true</export>
    </column>

    <column>
      <label>Activation Date</label>
      <sortAttribute>activationDate</sortAttribute>
      <sortType>integer</sortType>
      <value>%{filter:filterDate(activationDate)}</value>
      <export>true</export>
    </column>

    <column>
      <label>Actions</label>
      <value>%{filter:actions(dn,row,objectClass)}</value>
    </column>

  </table>

  <actionmenu>


    <action>
     <type>sub</type>
     <image>geticon.php?context=actions&amp;icon=document-new&amp;size=16</image>
     <label>Create</label>

     <action>
      <name>new_portalModelo</name>
      <type>entry</type>
      <image>plugins/interlegis/images/iconMiniPortalModelo.png</image>
      <label>Portal Modelo</label>
     </action>

     <action>
      <name>new_sapl</name>
      <type>entry</type>
      <image>plugins/interlegis/images/iconMiniSAPL.png</image>
      <label>SAPL</label>
     </action>

    </action>

    <action>
      <name>edit</name>
      <type>entry</type>
      <image>geticon.php?context=actions&amp;icon=document-edit&amp;size=16</image>
      <label>Edit</label>
    </action>

     <action>
      <name>remove</name>
      <type>entry</type>
      <image>geticon.php?context=actions&amp;icon=edit-delete&amp;size=16</image>
      <label>Remove</label>
    </action>

        <action>
      <type>separator</type>
    </action>

    <action>
      <type>exporter</type>
    </action>

    <action>
      <type>separator</type>
    </action>

    <action>
      <type>copypaste</type>
    </action>

    <action>
      <type>snapshot</type>
    </action>

  </actionmenu>

  <actiontriggers snapshot="true" copypaste="true">

    <action>
      <name>cp</name>
      <type>copypaste</type>
    </action>

    <action>
      <name>edit</name>
      <type>entry</type>
      <image>geticon.php?context=actions&amp;icon=document-edit&amp;size=16</image>
      <label>Edit Interlegis product</label>
    </action>

    <action>
      <name>snapshot</name>
      <type>snapshot</type>
    </action>

    <action>
      <name>remove</name>
      <type>entry</type>
      <image>geticon.php?context=actions&amp;icon=edit-delete&amp;size=16</image>
      <acl>alias/interlegis[d]</acl>
      <label>Remove Interlegis product</label>
    </action>

  </actiontriggers>

</list>
